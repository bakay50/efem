# **GUCE eForex SQL Scripts**
Latest first.

## version 3.0.2
## [CIV-4365]
    ALTER TABLE CURRENCY_TRANSFER ADD TRANSFER_RATE NUMBER(19,3);

## version "3.0.0-RC1"
## [SWFEMCI-978] - Geographical Area data
**Datasource**
*RIMM*

    INSERT INTO RIMM_GEOARE (ID, COD, DSC, DSC_FR) VALUES (1, '001', 'WAEMU ZONE WITH PAYMENT', 'ZONE UEMOA AVEC PAIEMENT');
    INSERT INTO RIMM_GEOARE (ID, COD, DSC, DSC_FR) VALUES (2, '002', 'EXPORT WITHOUT PAYMENT', 'EXPORTATION SANS PAIEMENT');
    INSERT INTO RIMM_GEOARE (ID, COD, DSC, DSC_FR) VALUES (3, '003', 'OUT OF UEMOA WITH PAYMENT', 'HORS ZONE UEMOA AVEC PAIEMENT');

## version "3.0.0-RC1"
## [SWFEMCI-971] - eForex Grails 3 Implementation
**Datasource**
*EFOREX*

    ALTER TABLE EXCHANGE ADD APPROVED_BY VARCHAR2(50) DEFAULT NULL;
    ALTER TABLE EXCHANGE ADD AMOUNT_FINAL_IN_LETTER VARCHAR2(255) DEFAULT NULL;
    ALTER TABLE EXCHANGE ADD NUMBER_OFEXECUTIONS number(10,0) NULL;
    ALTER TABLE EXCHANGE ADD SAD_TTL_AMT_CIF number(19,2) NULL;
    ALTER TABLE EXCHANGE ADD CONVERTED_CIF number(19,2) NULL;
    ALTER TABLE EXCHANGE ADD SAD_INCO_TERM VARCHAR2(3 CHAR) NULL;
    ALTER TABLE EXCHANGE ADD SAD_ATT_DAT date;
    ALTER TABLE EXCHANGE ADD SAD_ATT_REF VARCHAR2(35 CHAR) NULL;
    ALTER TABLE EXCHANGE ADD SAD_ATT_COD VARCHAR2(7 CHAR) NULL;
    ALTER TABLE EXCHANGE ADD BENEFICIARY_NAME_ADDRESS VARCHAR2(255 CHAR) NULL;
    ALTER TABLE EXCHANGE ADD SAD_INSTANCE_ID VARCHAR2(5 CHAR) NULL;
    ALTER TABLE EXCHANGE ADD SAD_STATUS VARCHAR2(50 CHAR) NULL;
    ALTER TABLE EXCHANGE ADD SAD_TYP_DEC VARCHAR2(2 CHAR) NULL;
    ALTER TABLE EXCHANGE ADD SAD_INV_AMT_FCX number(19,2) NULL;
    ALTER TABLE Exchange ADD COMMENT_HEADER CLOB;
    ALTER TABLE EXCHANGE ADD AMOUNT_IN_LETTER VARCHAR2(255 CHAR) DEFAULT NULL;
    ALTER TABLE EXCHANGE ADD TVF_INSTANCE_ID VARCHAR2(255 CHAR) DEFAULT NULL;
    ALTER TABLE EXCHANGE ADD REQUESTED_BY VARCHAR2(255 CHAR) NULL;
    ALTER TABLE EXCHANGE ADD REG_SEQ number(10,0) NULL;
    ALTER TABLE EXCHANGE ADD TVF_ID number(19,0) NULL;
    ALTER TABLE EXCHANGE ADD OPERATION VARCHAR2(255 CHAR) DEFAULT NULL;
    
    ALTER TABLE SUP_DECLARATION RENAME COLUMN EXCHANGES_ID TO EXCHANGE_ID;
    ALTER TABLE SUP_DECLARATION ADD DECLARATION_DATE date;
    ALTER TABLE SUP_DECLARATION ADD CLEARANCE_OFFICE_NAME VARCHAR2(255 CHAR) NULL;
    ALTER TABLE SUP_DECLARATION ADD CLEARANCE_OFFICE_CODE VARCHAR2(255 CHAR) NULL;
    
    ALTER TABLE ATTACHED_DOC RENAME COLUMN EXCHANGES_ID TO EXCHANGE_ID;
    ALTER TABLE ATTACHED_DOC ADD UPL_FIL CLOB;
    ALTER TABLE ATTACHED_DOC ADD FILE_EXTENSION VARCHAR2(255 CHAR) NULL;
    ALTER TABLE ATTACHED_DOC ADD IS_UPDATED number(1,0) NULL;
    ALTER TABLE ATTACHED_DOC ADD ATT_FIL number(19,2) NULL;
    
    CREATE TABLE ATTACHED_FILE (id, "DATA") AS SELECT ID, DOC_UPL FROM ATTACHED_DOC;
    ALTER TABLE ATTACHED_FILE add PRIMARY KEY (ID);
    ALTER TABLE ATTACHED_DOC ADD FOREIGN KEY (ID) REFERENCES ATTACHED_FILE(ID);
    
    ALTER TABLE EXECUTION RENAME COLUMN EXCHANGES_ID TO EXCHANGE_ID;
    ALTER TABLE EXECUTION RENAME COLUMN bnkAccNumCredDebited TO BNK_ACT_NO_CRED_DEB;
    ALTER TABLE EXECUTION RENAME COLUMN countProvDestExCode TO CTY_PROV_DES_EX_COD;
    ALTER TABLE EXECUTION RENAME COLUMN countProvDestExName TO CTY_PROV_DES_EX_NAM;
    ALTER TABLE EXECUTION RENAME COLUMN accountExBenf TO ACCOUNT_EX_BENEFICIARY;
    ALTER TABLE EXECUTION RENAME COLUMN amountSetNatCur TO AMT_SET_NAT_EX_CUR;
    ALTER TABLE EXECUTION RENAME COLUMN amountSetMentCur TO AMT_SET_MEN_CUR;
    ALTER TABLE EXECUTION RENAME COLUMN PROVENANCE_DESTINATION_EX_BANK TO DESTINATION_BANK;
    ALTER TABLE EXECUTION RENAME COLUMN creditForeign TO CREDIT_FOREIGN_CFA_OR_EURO;
    ALTER TABLE EXECUTION RENAME COLUMN creditCorAccount TO CREDIT_CORRESPONDENT_ACCOUNT;
    ALTER TABLE EXECUTION RENAME COLUMN OwnerCredited TO ACCOUNT_OWNER_CREDITED;

    ALTER TABLE EXECUTION ADD EXECUTION_DOM_DAT date;
    ALTER TABLE EXECUTION ADD EXECUTION_DOM_NUMBER VARCHAR2(35 CHAR) NULL;
    ALTER TABLE EXECUTION ADD EXECUTION_DOM_COD VARCHAR2(7 CHAR) NULL;
    ALTER TABLE EXECUTION ADD EXECUTION_DOM_NAM VARCHAR2(35 CHAR) NULL;
    ALTER TABLE EXECUTION ADD EXECUTING_BANK_CODE VARCHAR2(255 CHAR) NULL;
    ALTER TABLE EXECUTION ADD EXECUTING_BANK_NAME VARCHAR2(255 CHAR) NULL;
    ALTER TABLE EXECUTION ADD AMOUNT_IN_EX_LETTER VARCHAR2(255 CHAR) NULL;
    ALTER TABLE EXECUTION ADD AMOUNT_IN_SETTLED_LETTER VARCHAR2(255 CHAR) NULL;
    
    ALTER TABLE TRANSACTION_RECORD RENAME COLUMN MESSAGE_TEXT TO LOG_MESSAGE;
    ALTER TABLE TRANSACTION_RECORD MODIFY ("CLASS" NULL);